/*
USER_ID: bupt#100136136030542
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:50:30
*/
#include<iostream>
#include<string>

using namespace std;

int main(){
    string str;
    cin>>str;
    int group;
    cin>>group;
    string temp;
    for(int g = 0;g < group;g++){
            string cmd;
            cin>>cmd;
            //string temp;
            if(cmd == "CUT"){
                   int index,end;
                   cin>>index>>end;
                   temp = str.substr(index,end - index + 1);  
                   //cout<<"temp1:"<<temp<<endl;
                   str.erase(index,end - index + 1);   
                   cout<<str<<endl; 
            }        
           // cout<<"temp1:"<<temp<<endl;
            if(cmd == "COPY"){
                   int index,end;
                   cin>>index>>end;
                   temp = str.substr(index,end - index + 1);  
                   cout<<str<<endl;      
            }
            ///cout<<"temp2:"<<temp<<endl;
            if(cmd == "PASTE"){
                  //cout<<"temp3:"<<temp<<endl;
                   int index;
                   cin>>index;
                   string t1 = str.substr(0,index + 1);
                   string t2 = str.substr(index + 1);
                   str = t1 + temp + t2;
                  // cout<<"t2:"<<t2<<endl;
                  // cout<<"t1:"<<t1<<endl;
                   //cout<<"temp:"<<temp<<endl;
                   cout<<str<<endl; 
            }
    }
   //getchar(); 
return 0;    
}
