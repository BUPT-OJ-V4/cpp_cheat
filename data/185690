/*
USER_ID: bupt#100136101030444
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 14:39:48
*/
#include <iostream>
#include <stdio.h>
#include <stdlib.h>
#include <algorithm>
#include <math.h>
#include <string.h>
#include <string>

using namespace std;


int main()
{
    string s,t,order;
    int n;
    cin>>s;
    scanf("%d",&n);
    while(n--){
        cin>>order;
        int low,high;
        if(order=="CUT" || order=="COPY"){
            cin>>low>>high;
            t=string(s,low,high-low+1);
            if(order=="CUT")
                s.erase(low,high-low+1);
            cout<<s<<endl;
        }

        else if(order=="PASTE"){
            cin>>low;
            string head=s.substr(0,low+1);
            string tail=s.substr(low+1,s.length()-low);
            s=head+t+tail;
            cout<<s<<endl;
        }

    }
    return 0;
}
