/*
USER_ID: bupt#100136111311167
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:36:55
*/
#include<stdio.h>
#include<iostream>
#include<string>
#include<stdlib.h>
using namespace std;
int main(){
    //freopen("input.txt","r",stdin);
    string s;
    string t="";
    cin>>s;
    //cout<<s<<endl;
    int T;
    scanf("%d",&T);
    for(int i=0;i<T;i++){
        string action;
        int a,b;
        cin>>action;
        if(action=="PASTE"){
            cin>>a;
            //cout<<"paste"<<endl;
            s.insert(a+1,t);
            cout<<s<<endl;
        }else if(action =="CUT"){
            cin>>a>>b;
            //cout<<"cut"<<endl;
            t="";
            for(int j=a;j<=b;j++){
                t+=s[j];
            }
            //cout<<t<<endl;
            s.erase(a,b-a+1);
            cout<<s<<endl;
        }else if(action=="COPY"){
            cin>>a>>b;
            //cout<<"copy"<<endl;
            t="";
            for(int j=a;j<=b;j++){
                t+=s[j];
            }
            cout<<s<<endl;

        }
    }
    return 0;

}
