/*
USER_ID: bupt#100136111311042
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:58:26
*/
#include<stdio.h>
#include<stdlib.h>
int main(){
    int T = 0;
    char s[200] = "" , t[200] = "" , res[100][200] = {""};
    scanf("%s",s);
    scanf("%d",&T);
    for(int i = 0; i < T; i++){
            char order[30];
            scanf("%s",order);
            //copy
            if(order[0] == 'C' && order[1] == 'O'){
                        int num_a = 0, num_b = 0, length = 0;
                        scanf("%d %d",&num_a,&num_b);
                        for(int j = 0; j <= num_b-num_a; j++){
                                t[j] = s[j+num_a];
                                }
                        t[num_b-num_a+1] = '\0';
                        while(s[length] != '\0'){
                                        length++;
                                        }
                        for(int j = 0;j < length; j++){
                                res[i][j] = s[j];
                                }
            }
            //cut
            if(order[0] == 'C' && order[1] == 'U'){
                        int num_a = 0, num_b = 0,length = 0;
                        scanf("%d %d",&num_a,&num_b);
                        for(int j = 0; j <= num_b-num_a; j++){
                                t[j] = s[j+num_a];
                                }
                        t[num_b-num_a+1] = '\0';
                        while(s[length] != '\0'){
                                        length++;
                                        }
                        for(int j = 0; j <= length - num_b; j++){
                                s[num_a+j] = s[num_b+j+1];
                                }
                        length = 0;
                        while(s[length] != '\0'){
                                        length++;
                                        }                
                                        
                        for(int j = 0;j < length; j++){
                                res[i][j] = s[j];
                                }
            }
            //paste
            if(order[0] == 'P'){
                        int num = 0,len_s = 0,len_t = 0,length =0;
                        scanf("%d",&num);
                        while(s[len_s] != '\0'){
                                       len_s++;
                                       }
                        while(t[len_t] != '\0'){
                                       len_t++;
                                       }
                        for(int j = len_s-num+1; j > 0 ;j--){
                                s[num+j+len_t] = s[num+j];
                                }
                        for(int j = 0; j < len_t; j++){
                                s[num+1+j] = t[j];
                                }
                        while(s[length] != '\0'){
                                        length++;
                                        }                
                                        
                        for(int j = 0;j < length; j++){
                                res[i][j] = s[j];
                                }        
            }
    }
    for(int i = 0; i < T; i++){
            printf("%s\n",res[i]);
            }
    return 0;
}
