/*
USER_ID: bupt#100136111311007
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:49:38
*/
#include<stdio.h>
int main(){
    char s[200];
    char t[200];
    char temp[100];
    char st;
    gets(s);
    int m;
    int a,b;
    int x1,x2;
    int slen,tlen;
    //int out;
    scanf("%d",&m);
    getchar();
    for(a=0;a<m;a++){
                     scanf("%c",&temp[0]);
                     scanf("%c",&temp[1]);
                     //gets(temp);
                     //printf("%s",temp);
                     if(temp[0] == 'C' && temp[1] == 'O'){
                                       getchar();
                                       getchar();
                                       getchar();
                                       scanf("%d%d",&x1,&x2);
                                       getchar();
                                       for(b=0;b<=x2-x1;b++)
                                       t[b] = s[b+x1];
                                       t[b] = '\0';
                                       printf("%s\n",s);
                                       }
                     if(temp[0] == 'C' && temp[1] == 'U'){
                                       getchar();
                                       getchar();
                                       scanf("%d%d",&x1,&x2);
                                       getchar();
                                       for(b=0;b<=x2-x1;b++)
                                       t[b] = s[b+x1];
                                       t[b] = '\0';
                                       for(slen=0;s[slen]!='\0';slen++);
                                       for(b=x2+1;b<=slen;b++)
                                       s[b-x2+x1-1] = s[b];
                                       printf("%s\n",s);
                                       }
                     if(temp[0] == 'P'){
                                       getchar();
                                       getchar();
                                       getchar();
                                       getchar();
                                       scanf("%d",&x1);
                                       getchar();
                                       for(slen=0;s[slen]!='\0';slen++);
                                       for(tlen=0;t[tlen]!='\0';tlen++);
                                       for(b=slen+tlen;b>x1+tlen;b--)
                                       s[b] = s[b-tlen];
                                       for(b=0;b<tlen;b++)
                                       s[b+x1+1] = t[b];
                                       printf("%s\n",s);
                                       }
                     }
    return 0;
}
                                  
                                       
                                       
