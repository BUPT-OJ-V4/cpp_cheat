/*
USER_ID: bupt#100136111311044
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:41:27
*/
#include<iostream>
#include<string.h>
#include<math.h> 
#include<stdio.h>
#include<stdlib.h>
using namespace std;

int main(){
  string s,t,order;
  int m,k;
  int len;
  
  cin>>s;
  cin>>m;
   t = "\0";
   for(int i =0;i< m;i++) {
       cin>>order;
      
       if(order[0]=='P'){
           cin>>order;
           k = atoi(order.c_str());
           string s1,s2;
           s1 = s.substr(0,k+1);   
           s2 = s.substr(k+1);
           s = s1+ t+s2;        
       }
       if(order[0]=='C' && order[1] == 'U'){//CUT
             int l,r;
             string s1,s2;
             cin>>order;
             l = atoi(order.c_str()); 
             cin>>order;
             r = atoi(order.c_str());
             t = s.substr(l,r-l+1);
              s1 = s.substr(0,l);   
              s2 = s.substr(r+1);
             s = s1+s2;
                      
       }
       
       if(order[0]=='C' && order[1] == 'O'){//COPY
             int l,r;
             string s1,s2;
             cin>>order;
             l = atoi(order.c_str()); 
             cin>>order;
             r = atoi(order.c_str());
             t = s.substr(l,r-l+1);          
       }  
       cout<<s<<endl;    
   }
    
    
    return 0;    
}
