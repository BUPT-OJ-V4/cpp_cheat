/*
USER_ID: bupt#100136111311073
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:16:18
*/
#include <cstdio>
#include <cstring>
#include <iostream>
#include <algorithm>
#include <string>

using namespace std;

const int N = 55;

int a[N];
char p[N];

int main()
{
    int m;
    string a, copy = "";
    cin >> a;
    scanf("%d", &m);
    /*string::iterator it = a.begin();
    cout << *(it + 5) << endl;
    a.erase(it + 5);
    a.insert (it + 2, 'j');
    cout << a << endl;*/
    while (m--) {
        scanf (" %s", p);
        if (strcmp(p, "PASTE") == 0) {
            int index; cin >> index;
            for (int i = 0; i < copy.size(); ++i) {
                string::iterator it = a.begin();
                a.insert (it + index + 1, copy[i]);
                index++;
            }
            cout << a << endl;
        } else {
            int l, r; cin >> l >> r;
            if (strcmp(p, "COPY") == 0) {
                copy = a.substr(l, r - l + 1);
                cout << a << endl;
            } else if (strcmp(p, "CUT") == 0){
                copy = a.substr(l, r - l + 1);
                string::iterator it = a.begin();
                a.erase(it + l, it + r + 1);
                cout << a << endl;       
            } 
        }
    }
    return 0;    
}
