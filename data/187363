/*
USER_ID: bupt#100136111310754
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:48:26
*/
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main()
{
  int n,i1,i2,i,j,len,x,len2;
  char s[210];
  char t[210];
  char op[10];
  scanf("%s",s);
  scanf("%d",&n);
  while(n--)
  {
        scanf("%s",op);
        if(strlen(op) == 3)
        {
              scanf("%d%d",&i1,&i2);
              for(j = 0; i1 + j <= i2; j++)
              {
                    t[j] = s[i1 + j];
                    t[j+1]='\0';
              } 
              len = strlen(s); 
              x = i2 - i1 + 1;
              for(j = i1; x + j < len; j++) s[j] = s[j+x];
              s[j] = '\0';
              puts(s);
        }
        else if(strlen(op) == 4)
        {
               scanf("%d%d",&i1,&i2); 
               for(j = 0; i1 + j <= i2; j++)
              {
                    t[j] = s[i1 + j];
                    t[j+1]='\0';
              }
               puts(s);
        }
        else if(strlen(op) == 5)
        {
               scanf("%d",&i1);
               len = strlen(t);
               len2 = strlen(s);
               for(i = len2; i > i1; i--)
               {
                    s[i+len] = s[i];
               }   
               s[len+len2] = '\0';
               for(i = 0; i < len; i++)
                s[i+i1+1] = t[i];
                puts(s);
        }
        
  }
  
 // system("PAUSE");	
  return 0;
}