/*
USER_ID: bupt#100136111311186
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:31:19
*/
#include <iostream>
#include <stdio.h>
#include <string>
using namespace std;

void cut(string &s, string &t, int start, int end) {
    string str(s, start, end-start+1);
    t = str;
    s.erase(start, end-start+1);
}

void copy(string &s, string &t, int start, int end) {
    string str(s, start, end-start+1);
    t = str;
}

void paste(string &s, string &t, int start) {
    s.insert(start+1, t);
}

int main()
{
    string s, t;
    int n;
    getline(cin, s);
    scanf("%d", &n);
    for(int i=0; i<n; i++) {
    string mani;
    int start,end;
    cin>>mani;
    if(mani == "CUT" ) {
        cin>>start>>end;
        cut(s, t, start, end);
    }
    else if(mani == "COPY") {
        cin>>start>>end;
        copy(s, t, start, end);
    }
    else if(mani == "PASTE") {
        cin>>start;
        paste(s, t, start);
    }
    else cout<<"error!"<<endl;
    cout<<s<<endl;
    }

    return 0;
}
