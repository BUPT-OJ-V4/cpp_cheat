/*
USER_ID: bupt#100136137030626
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 14:45:49
*/
#include<cstring>
#include<cstdio>
#include<cmath>
#include<algorithm>
#include<cstdlib>
#include<string>
using namespace std;
char p[204],t[204];
char method[10];
void cpy(int s,int e){
    int len,i;
    len = 0;
    for(i = s;i <= e;i ++){
        t[len ++] = p[i];
    }
    t[len]='\0';
}
void cut(int s,int e){
    int i,len;
    len = 0;
    for(i = s;i <= e;i ++){
        t[len ++] = p[i];
    }
    t[len] = '\0';
    len = 0;
    int n = strlen(p);
    for(i = 0;i < n;i ++){
        if(i < s || i > e){
            p[len ++] = p[i];
        }
    }
    p[len] = '\0';

}
void paste(int k){
    int i,len,n1,n2,j;
    char s[300];
    n1 = strlen(t);
    n2 = strlen(p);
    len = 0;
    for(i = 0;i < n2;i ++){
        if(i == k + 1){
            for(j = 0;j < n1;j ++){
                s[len ++]= t[j];
            }
        }
        s[len ++] = p[i];
    }
    s[len] = '\0';
    strcpy(p,s);

}
int main()
{
    int i,j,k,n,sum,t,m,s,e;
    scanf("%s",p);
    scanf("%d",&m);
    while(m --){
        scanf("%s",method);
        if(!strcmp(method,"COPY")){
            scanf("%d%d",&s,&e);
            cpy(s,e);
        }else if(!strcmp(method,"CUT")){
            scanf("%d%d",&s,&e);
            cut(s,e);
        }else{
            scanf("%d",&s);
            paste(s);
        }
        printf("%s\n",p);
    }
    return 0;
}
