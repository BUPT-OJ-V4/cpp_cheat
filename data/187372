/*
USER_ID: bupt#100136096030427
PROBLEM: 999
SUBMISSION_TIME: 2016-03-25 15:48:53
*/
#include <stdio.h>
#include <string.h>
#include <string>
using namespace std;
int main(){
    char s1[201];char tmp[201];int size=0;
   
    while(scanf("%s",s1)!=EOF){
                      int n;
                     scanf("%d",&n);
                     while(n--){
                             char s2[10];
                             scanf("%s",s2);   
                             if(s2[0]=='C'&&s2[1]=='U'){
                                        memset(tmp,0,sizeof(tmp));  
                                           int size=0;              
                                            int start;int end;
                                            int l1=strlen(s1);
                                            scanf("%d%d",&start,&end);
                                            for(int i=start;i<=end;i++)            
                                            tmp[size++]=s1[i];
                                        
                                            int j=start;
                                           
                                                    for(int i=end+1;i<l1;i++){
                                                            s1[j++]=s1[i];}
                                                            for(int i=j;i<l1;i++){
                                                                    s1[i]=0;
                                                                    }
                                                            printf("%s\n",s1);
                                                                
                                                        }
                              else  if(s2[0]=='P'){
                                          int t;
                                          scanf("%d",&t);    
                                            int start=t+1;
                                            char s[201];
                                            memset(s,0,sizeof(s));
                                            for(int i=0;i<strlen(s1);i++){
                                                    s[i]=s1[i];
                                                    }
                                                
                                            for(int i=0;i<strlen(tmp);i++){
                                                  s1[start++]=tmp[i];}
                                                 
                                                  for(int i=t+1;i<strlen(s);i++){
                                                         s1[start++]=s[i]; 
                                                          }
                                                          s1[start]=0;
                                                  printf("%s\n",s1);    
                                                    }   
                                               
                                               
                                  else if(s2[0]=='C'&&s2[1]=='O'){
                                       memset(tmp,0,sizeof(tmp));
                                       int start;int end;
                                       scanf("%d%d",&start,&end);
                                       int size=0;
                                       for(int i=start;i<=end;i++){
                                               tmp[size++]=s1[i];
                                               }
                                             
                                       printf("%s\n",s1);
                                       }             
                                
                                }  
                         
                         
                         }
    
    
    }